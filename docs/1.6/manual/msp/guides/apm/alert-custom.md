# 自定义告警

监控系统采集的指标多而广，有系统自带的各类监控指标，也有用户通过 Monitor SDK 采集的自定义指标。

若希望针对某些特定的指标定义告警规则，或自定义告警通知的消息模板，可进入 **微服务治理平台 > 告警中心 > 告警配置 > 规则管理** 进行配置。

如图所示，配置一条针对慢 SQL 的告警规则：

![](http://terminus-paas.oss-cn-hangzhou.aliyuncs.com/paas-doc/2022/02/23/734b397d-0fb8-4f05-ad3c-eda449e98454.png)

* **名称**：规则名称，可根据规则含义命名。
* **周期**：对指标聚合产生结果的时间。
* **过滤规则**：对指标进行筛选，仅针对特定指标进行告警规则的计算。
* **分组规则**：对字段进行分组，各组分别按照告警规则进行计算。
* **字段规则**：可选择多个字段，将计算结果与定义的阈值进行判断，若符合条件，则触发告警。

![](http://terminus-paas.oss-cn-hangzhou.aliyuncs.com/paas-doc/2022/02/23/c69e6f6a-5b41-479d-8970-5359bd2f58cb.png)

* **通知方式**：可选择钉钉、邮箱、站内信等多种通知方式。
* **消息标题**：可定义告警发送的消息标题模版。
* **消息内容**：可定义告警发送的消息内容模版。

在消息标题和消息内容中，可用花括号引用对应指标的字段，包括 project_name、application_name、runtime_name、service_name、host_ip、cluster_name 等。

完成自定义告警配置，即定义了一个告警规则的模板。

在 **微服务治理平台 > 告警中心 > 告警配置 > 告警策略** 中，选择已定义的告警规则模版，关联应用、通知组等，进一步配置具体的规则：

![](http://terminus-paas.oss-cn-hangzhou.aliyuncs.com/paas-doc/2022/02/23/c0ce79f3-0cdb-4919-a6aa-0b6320589a96.png)
完成配置后，若对应指标满足配置条件，即可触发告警，根据消息内容模板发出相应的告警通知。


# 指标和日志

在平台上成功部署应用后，开发和运维人员需关注应用的运行状态，包括内存、CPU、磁盘 IO、网络以及运行日志。不同角色的成员关注点如下：

* 若您是运维工程师，您需关注整个集群的机器资源、磁盘、机器负载、运行的服务实例数、中间件的运行情况等。
* 若您是项目管理员，您需宏观关注整个项目中各服务运行的状态、各服务之间的关系以及调用情况、服务的异常情况等。
* 若您是开发工程师，除服务运行状态外，需更多关注服务的运行日志。

## 云平台监控 VS 传统监控

### 传统监控

在传统的裸机或虚拟机运维模式下，开发和运维人员需频繁登录机器，通过命令或任务管理器查看服务运行的内存和 CPU 使用情况。该模式存在以下问题：

* 直接登录机器存在管理上的安全隐患。
* 命令输出的内容不直观。
* 无法追溯历史运行状态。
* 可观察状态有局限，无法洞察服务内部更详细的状态及各组件之间的调用情况。
* 查看和管理日志不便，仅可通过工具阅读日志文件，且需根据时间或大小管理日志文件。
* 集成第三方的监控工具，操作步骤复杂，甚至需要修改业务代码。

### 云平台监控

基于云平台部署的应用可享受平台带来的诸多福利，例如监控和日志：

* 无需登陆机器，即可在统一界面查看服务的运行状态和日志信息。
* 无需复杂配置，无入侵式集成监控至应用。
* 直观且多维度洞察服务的运行状态。
* 持久化的监控数据，便捷且无追溯历史问题。
* 可准确实时地针对各类异常信息发出告警。
* 无需管理日志文件，应用仅需专注于日志的埋点打印。

## 服务日志

成功部署应用后，可进入应用的 Runtime 界面，点击查看日志按钮。

![](http://terminus-paas.oss-cn-hangzhou.aliyuncs.com/paas-doc/2022/02/23/caa48190-876e-4e5b-b4ee-8bdd81b7abdd.png)

默认显示服务的标准输出日志。

![](http://terminus-paas.oss-cn-hangzhou.aliyuncs.com/paas-doc/2022/02/24/2eafc16c-5509-4406-aa32-cf92718856a0.png)

点击如下按钮，可切换查看标准输出和错误输出的日志。

![](http://terminus-paas.oss-cn-hangzhou.aliyuncs.com/paas-doc/2022/02/24/9db959e9-2b69-4c21-8b4c-0e6f7a17d7d0.png)

如需通过本地的文本工具处理或查看日志，或需将某段时间的日志发送至他人以协助排查问题，可点击 **下载日志** 按钮下载日志至本地。

![](http://terminus-paas.oss-cn-hangzhou.aliyuncs.com/paas-doc/2022/02/24/8e11a7b6-bbb5-4300-8fd2-0440c7acded3.png)

## 服务基础监控

通过日志可得知服务已正常运行，但无法明确实际的资源使用情况，此时需查看容器的监控指标。

![](http://terminus-paas.oss-cn-hangzhou.aliyuncs.com/paas-doc/2022/02/24/ddedd0a5-4687-43ed-9cfb-2bf76c495050.png)

容器监控提供如下指标图表：

![](http://terminus-paas.oss-cn-hangzhou.aliyuncs.com/paas-doc/2022/02/24/fac12299-ae51-4d22-9a5a-418dd039745a.png)

* **内存**：两条曲线分别表示内存使用量和百分比。
* **CPU**：表示占一核 CPU 的百分比。
* **磁盘**：两条曲线分别表示每秒从磁盘读取和写入的数据量。
* **网络**：两条曲线分别表示每秒从网卡接收和发送的数据量。

从监控图表中可了解服务实际的资源使用情况，并由此评估对应服务需分配的资源数量。

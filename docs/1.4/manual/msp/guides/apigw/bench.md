# 性能数据

## 从应答头观测网关附加的延时

如下图所示，红框内的应答头 `x-kong-proxy-latency` 是网关附加的处理延时，此例为 1 毫秒。若显示为 0 则说明小于 1 毫秒。

应答头 `x-kong-upstream-latency` 是从发送请求至后端服务到接收后端完整应答的延时，此处为 6 毫秒。

![](https://terminus-paas.oss-cn-hangzhou.aliyuncs.com/paas-doc/2021/08/18/fe715e34-efde-4bed-b641-778c376c6187.png)


## 压测数据

* 实例数：1 个
* CPU：2 核
* 内存：256 MB

| 压测方式 | 并发 Client 数 | 每秒处理请求数 | 平均延迟 | CPU 使用率 | 内存使用 |
| :------- | :------------- | :------------- | :------- | :--------- | :------- |
| 短连接   | 10             | 4393           | 2.2 毫秒 | 100%       | 106 MB   |
| 短连接   | 30             | 4699           | 6.3 毫秒 | 100%       | 106 MB   |
| 长连接   | 10             | 5928           | 1.6 毫秒 | 100%       | 106 MB   |
| 长连接   | 30             | 5800           | 5 毫秒   | 100%       | 106 MB   |

拥有 1 个实例、2 核 CPU 的网关节点请求处理能力在 5000 QPS 左右。根据平台默认配置，将启动 2 个实例，从而达到 10000 QPS 的处理能力。若仍无法满足业务需求，可再进行水平扩容。
